/*Software: SAS 9.4*/
/*Study: Geographical distribution of exposure to fires in the United States between 2004 and 2023*/
/*Purpose: Mixed-effects models evaluating population shifts and their contribution to changes in person-day fire exposure*/

/* Variable definitions:
- GEOID10: Census tract identifier
- Year
- PersonDayExp: Person-day exposure to fire
- Population: Total population in a census tract */

/* Input dataset: replace "Dataset" with your analytic dataset name*/
proc mixed data=Dataset method=ml covtest noclprint;
class GEOID10;
model PersonDayExp = Year / solution ddfm=Satterthwaite;
random intercept Year / subject=GEOID10 type=vc;
run;

proc mixed data=Dataset method=ml covtest noclprint;
class GEOID10;
model PersonDayExp = Population Year / solution ddfm=Satterthwaite;
random intercept Year / subject=GEOID10 type=vc;
run;

/* Autoregressive time-series model used to estimate population distributions for census tracts, 2021â€“2023*/
/* PROC FORECAST is applied separately by census tract to calculate total population and race/ethnicity-specific population counts based on 2004-2020 historical trends.*/
/* Input dataset: replace "Dataset" with your analytic dataset name*/
proc forecast data = Dataset lead=3 out=census_forecast;
by GEOID10; 
var Population NH_White NH_Black NH_AIAN NH_AAPI NH_Other Hispanic;
id year;
run; 
